import{O as l,ja as r}from"./chunk-6JS7X5LE.js";import{a as t,b as s}from"./chunk-I4MTPUBM.js";var a=class n{isOpen=r(!1);options=r(null);resolveConfirm;cleanupTimeout;confirm(e){return this.openModal(e)}alert(e){return this.confirm(s(t({},e),{cancelText:void 0})).then(()=>{})}prompt(e){return this.openModal(s(t({},e),{isPrompt:!0,inputType:e.inputType||"text"}))}openModal(e){return this.cleanupTimeout&&(clearTimeout(this.cleanupTimeout),this.cleanupTimeout=null),this.options.set(e),this.isOpen.set(!0),new Promise(i=>{this.resolveConfirm=i})}close(e,i){this.isOpen.set(!1),this.resolveConfirm&&(e&&this.options()?.isPrompt?this.resolveConfirm(i||""):this.resolveConfirm(e),this.resolveConfirm=void 0);let o=this.options();e&&o?.onConfirm?o.onConfirm():!e&&o?.onCancel&&o.onCancel(),this.cleanupTimeout&&clearTimeout(this.cleanupTimeout),this.cleanupTimeout=setTimeout(()=>{this.isOpen()||this.options.set(null)},300)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=l({token:n,factory:n.\u0275fac,providedIn:"root"})};export{a};
