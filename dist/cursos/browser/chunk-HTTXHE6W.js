import{a as K}from"./chunk-NOVASSOE.js";import{e as V}from"./chunk-UKUKXRH6.js";import{a as J}from"./chunk-LTZCFJQM.js";import{b as B,d as L,e as R,f as j,h,j as G,k as O,n as U,o as z,p as H,q as W,r as X,x as q}from"./chunk-SDJWNAN2.js";import{$ as S,B as A,D as k,Fb as D,Gb as a,Ha as T,Hb as p,Ib as u,Jb as $,Ma as l,T as E,Xa as F,Y as v,Z as C,_ as y,ec as _,hb as m,ib as c,ja as P,kb as N,lb as w,mb as M,nb as b,ob as t,pb as n,qb as f,ub as I,wb as g,yb as s}from"./chunk-6JS7X5LE.js";var Z=(o,i)=>i.instructor._id;function ee(o,i){o&1&&(y(),t(0,"svg",32),f(1,"circle",33)(2,"path",34),n(),S(),t(3,"span"),a(4,"Procesando..."),n())}function te(o,i){o&1&&(y(),t(0,"svg",35),f(1,"path",36),n(),S(),t(2,"span"),a(3,"Procesar Ventas Existentes"),n())}function ne(o,i){o&1&&(t(0,"span",61),a(1,"\u2713 Inmediato"),n())}function ie(o,i){if(o&1&&(t(0,"span",62),a(1),n()),o&2){let e=s(3);l(),u("",e.getDaysUntilAvailable()," d\xEDas")}}function ae(o,i){if(o&1&&(t(0,"div",37)(1,"div",51)(2,"div",52),y(),t(3,"svg",53),f(4,"path",54),n()(),S(),t(5,"div",55)(6,"h3",56),a(7,"Configuraci\xF3n de Pagos"),n(),t(8,"div",57)(9,"div",58)(10,"span",59),a(11,"Umbral M\xEDnimo"),n(),t(12,"span",60),a(13),n()(),t(14,"div",58)(15,"span",59),a(16,"Disponibilidad"),n(),m(17,ne,2,0,"span",61)(18,ie,2,1,"span",62),n(),t(19,"div",58)(20,"span",59),a(21,"Comisi\xF3n"),n(),t(22,"span",63),a(23),n()()()()()()),o&2){let e,r=s(2);l(13),p(r.formatCurrency(r.getMinimumThreshold())),l(4),c(r.getDaysUntilAvailable()===0?17:18),l(6),u("",(e=r.settings())==null?null:e.default_commission_rate,"%")}}function re(o,i){if(o&1&&(m(0,ae,24,3,"div",37),t(1,"div",38)(2,"div",39)(3,"div",40)(4,"span",41),a(5,"Total Disponible"),n(),t(6,"span",42),a(7,"\u{1F4B5}"),n()(),t(8,"p",43),a(9),n(),t(10,"p",44),a(11),n()(),t(12,"div",45)(13,"div",40)(14,"span",41),a(15,"Wallet"),n(),t(16,"span",42),a(17,"\u{1F4B0}"),n()(),t(18,"p",46),a(19),n(),t(20,"p",44),a(21),n()(),t(22,"div",47)(23,"div",40)(24,"span",41),a(25,"PayPal"),n(),t(26,"span",42),a(27,"\u{1F4B3}"),n()(),t(28,"p",48),a(29),n(),t(30,"p",44),a(31),n()(),t(32,"div",49)(33,"div",40)(34,"span",41),a(35,"Mixto"),n(),t(36,"span",42),a(37,"\u{1F500}"),n()(),t(38,"p",50),a(39),n(),t(40,"p",44),a(41),n()()()),o&2){let e=s();c(e.settings()?0:-1),l(9),p(e.formatCurrency(e.totalEarnings())),l(2),u("",e.instructors().length," instructores"),l(8),p(e.formatCurrency(e.paymentMethodStats().wallet.total)),l(2),u("",e.paymentMethodStats().wallet.count," operaciones"),l(8),p(e.formatCurrency(e.paymentMethodStats().paypal.total)),l(2),u("",e.paymentMethodStats().paypal.count," operaciones"),l(8),p(e.formatCurrency(e.paymentMethodStats().mixed_paypal.total)),l(2),u("",e.paymentMethodStats().mixed_paypal.count," operaciones")}}function oe(o,i){o&1&&(t(0,"div",28),f(1,"div",64),n())}function le(o,i){if(o&1&&(t(0,"div",29),a(1),n()),o&2){let e=s();l(),u(" ",e.error()," ")}}function se(o,i){if(o&1&&(t(0,"p",83),a(1),n()),o&2){let e=s().$implicit,r=s(2);l(),u("Faltan ",r.formatCurrency(r.amountToReachThreshold(e.earnings.total)))}}function de(o,i){if(o&1&&(t(0,"div",96)(1,"div",97)(2,"span",98),a(3,"\u{1F4B0}"),n(),t(4,"span",99),a(5,"Wallet"),n()(),t(6,"div",100)(7,"span",101),a(8),n(),t(9,"span",102),a(10),n()()()),o&2){let e=s(2).$implicit,r=s(2);l(8),p(r.formatCurrency(e.earnings.paymentMethods.wallet.total)),l(2),u("(",e.earnings.paymentMethods.wallet.count,")")}}function me(o,i){if(o&1&&(t(0,"div",96)(1,"div",97)(2,"span",103),a(3,"\u{1F4B3}"),n(),t(4,"span",99),a(5,"PayPal"),n()(),t(6,"div",100)(7,"span",101),a(8),n(),t(9,"span",102),a(10),n()()()),o&2){let e=s(2).$implicit,r=s(2);l(8),p(r.formatCurrency(e.earnings.paymentMethods.paypal.total)),l(2),u("(",e.earnings.paymentMethods.paypal.count,")")}}function ce(o,i){if(o&1&&(t(0,"div",96)(1,"div",97)(2,"span",104),a(3,"\u{1F500}"),n(),t(4,"span",99),a(5,"Mixto"),n()(),t(6,"div",100)(7,"span",101),a(8),n(),t(9,"span",102),a(10),n()()()),o&2){let e=s(2).$implicit,r=s(2);l(8),p(r.formatCurrency(e.earnings.paymentMethods.mixed_paypal.total)),l(2),u("(",e.earnings.paymentMethods.mixed_paypal.count,")")}}function pe(o,i){if(o&1&&(t(0,"div",85)(1,"p",95),a(2,"M\xE9todos de cobro"),n(),m(3,de,11,2,"div",96),m(4,me,11,2,"div",96),m(5,ce,11,2,"div",96),n()),o&2){let e=s().$implicit;l(3),c(e.earnings.paymentMethods.wallet.count>0?3:-1),l(),c(e.earnings.paymentMethods.paypal.count>0?4:-1),l(),c(e.earnings.paymentMethods.mixed_paypal.count>0?5:-1)}}function ue(o,i){if(o&1&&(t(0,"div",96)(1,"div",97)(2,"span",105),a(3,"\u{1F39F}\uFE0F"),n(),t(4,"span",106),a(5,"Referidos (80%)"),n()(),t(6,"div",100)(7,"span",107),a(8),n(),t(9,"span",102),a(10),n()()()),o&2){let e=s(2).$implicit,r=s(2);l(8),p(r.formatCurrency(e.earnings.breakdown.referral.total)),l(2),u("(",e.earnings.breakdown.referral.count,")")}}function xe(o,i){if(o&1&&(t(0,"div",96)(1,"div",97)(2,"span",99),a(3,"\u{1F3E2}"),n(),t(4,"span",99),a(5,"Org\xE1nico (50%)"),n()(),t(6,"div",100)(7,"span",108),a(8),n(),t(9,"span",102),a(10),n()()()),o&2){let e=s(2).$implicit,r=s(2);l(8),p(r.formatCurrency(e.earnings.breakdown.organic.total)),l(2),u("(",e.earnings.breakdown.organic.count,")")}}function ge(o,i){if(o&1&&(t(0,"div",86)(1,"p",95),a(2,"Origen"),n(),m(3,ue,11,2,"div",96),m(4,xe,11,2,"div",96),n()),o&2){let e=s().$implicit;l(3),c(e.earnings.breakdown.referral.count>0?3:-1),l(),c(e.earnings.breakdown.organic.count>0?4:-1)}}function _e(o,i){if(o&1&&(t(0,"span",109),a(1),n()),o&2){let e=s().$implicit,r=s(2);D("inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-lg border "+r.getMethodBadgeClass(e.paymentConfig.preferredMethod)),b("title",r.getPaymentMethodTooltip(e.paymentConfig)),l(),u(" ",r.getMethodText(e.paymentConfig.preferredMethod)," ")}}function fe(o,i){o&1&&(t(0,"span",89),a(1," No Configurado "),n())}function be(o,i){if(o&1){let e=I();t(0,"tr",72)(1,"td",78)(2,"div",79),f(3,"img",80),t(4,"div")(5,"p",81),a(6),n(),t(7,"p",27),a(8),n()()()(),t(9,"td",78)(10,"p",82),a(11),n(),m(12,se,2,1,"p",83),n(),t(13,"td",78)(14,"div",84),m(15,pe,6,3,"div",85),m(16,ge,5,2,"div",86),n()(),t(17,"td",78)(18,"p",87),a(19),n()(),t(20,"td",78),m(21,_e,2,4,"span",88)(22,fe,2,0,"span",89),n(),t(23,"td",78)(24,"div",90)(25,"button",91),g("click",function(){let d=v(e).$implicit,x=s(2);return C(x.viewInstructorDetails(d.instructor._id))}),y(),t(26,"svg",92),f(27,"path",93)(28,"path",94),n()()()()()}if(o&2){let e=i.$implicit,r=s(2);l(3),b("src",r.getInstructorAvatarUrl(e.instructor),T)("alt",e.instructor.name),l(3),$("",e.instructor.name," ",e.instructor.surname),l(2),p(e.instructor.email),l(3),p(r.formatCurrency(e.earnings.total)),l(),c(r.hasReachedThreshold(e.earnings.total)?-1:12),l(3),c(e.earnings.paymentMethods?15:-1),l(),c(e.earnings.breakdown?16:-1),l(3),p(r.formatDate(e.earnings.newestDate)),l(2),c(e.paymentConfig&&e.paymentConfig.preferredMethod?21:22)}}function he(o,i){o&1&&(t(0,"span",110),a(1,"..."),n())}function ye(o,i){if(o&1){let e=I();t(0,"button",112),g("click",function(){v(e);let d=s().$implicit,x=s(2);return C(x.changePage(+d))}),a(1),n()}if(o&2){let e=s().$implicit,r=s(2);D(r.currentPage()===e?"px-3 py-1.5 bg-lime-500 text-slate-900 text-sm font-semibold rounded-lg":"px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-300 text-sm rounded-lg border border-slate-600 transition-colors"),l(),u(" ",e," ")}}function ve(o,i){if(o&1&&m(0,he,2,0,"span",110)(1,ye,2,3,"button",111),o&2){let e=i.$implicit;c(e==="..."?0:1)}}function Ce(o,i){if(o&1){let e=I();t(0,"div",30)(1,"div",65)(2,"table",66)(3,"thead",67)(4,"tr",68)(5,"th",69),a(6,"Instructor "),n(),t(7,"th",69),a(8,"Disponible "),n(),t(9,"th",69),a(10,"Desglose por M\xE9todo"),n(),t(11,"th",69),a(12,"\xDAltima Venta "),n(),t(13,"th",69),a(14,"M\xE9todo Preferido"),n(),t(15,"th",70),a(16,"Acciones "),n()()(),t(17,"tbody",71),w(18,be,29,11,"tr",72,Z),n()()(),t(20,"div",73)(21,"div",74),a(22," Mostrando "),t(23,"span",75),a(24),n(),a(25," a "),t(26,"span",75),a(27),n(),a(28," de "),t(29,"span",75),a(30),n(),a(31," instructores "),n(),t(32,"div",76)(33,"button",77),g("click",function(){v(e);let d=s();return C(d.previousPage())}),a(34," Anterior "),n(),w(35,ve,2,1,null,null,N),t(37,"button",77),g("click",function(){v(e);let d=s();return C(d.nextPage())}),a(38," Siguiente "),n()()()()}if(o&2){let e=s();l(18),M(e.paginatedInstructors()),l(6),p((e.currentPage()-1)*e.itemsPerPage()+1),l(3),p(e.Math.min(e.currentPage()*e.itemsPerPage(),e.filteredInstructors().length)),l(3),p(e.filteredInstructors().length),l(3),b("disabled",e.currentPage()===1),l(2),M(e.pageNumbers()),l(2),b("disabled",e.currentPage()===e.totalPages())}}function Se(o,i){o&1&&(t(0,"div",31),y(),t(1,"svg",113),f(2,"path",114),n(),S(),t(3,"h3",115),a(4,"No hay instructores"),n(),t(5,"p",116),a(6,"No se encontraron instructores con los filtros aplicados."),n()())}var Q=class o{adminPaymentService=E(J);router=E(V);modalService=E(K);instructors=this.adminPaymentService.instructors;summary=this.adminPaymentService.instructorsSummary;isLoading=this.adminPaymentService.isLoadingInstructors;error=this.adminPaymentService.instructorsError;settings=this.adminPaymentService.commissionSettings;isLoadingSettings=this.adminPaymentService.isLoadingCommission;filterForm=new j({status:new h("all"),minAmount:new h(0),country:new h("all"),paymentMethod:new h("all"),startDate:new h(null),endDate:new h(null)});hasInstructors=_(()=>this.instructors().length>0);totalEarnings=_(()=>Number(this.summary()?.totalEarnings)||0);paymentMethodStats=_(()=>this.summary()?.paymentMethodStats||{wallet:{count:0,total:0},paypal:{count:0,total:0},mixed_paypal:{count:0,total:0,wallet_part:0,paypal_part:0}});availableCountries=_(()=>{let i=this.instructors(),e=new Set;return i.forEach(r=>{let d=r.instructor.country||r.paymentConfig.country||"INTL";e.add(d)}),Array.from(e).sort()});filteredInstructors=_(()=>{let i=this.instructors(),e=this.filterForm.get("country")?.value;return e&&e!=="all"&&(i=i.filter(r=>(r.instructor.country||r.paymentConfig.country||"INTL")===e)),i});currentPage=P(1);itemsPerPage=P(10);Math=Math;paginatedInstructors=_(()=>{let i=this.filteredInstructors(),e=this.currentPage(),r=this.itemsPerPage(),d=(e-1)*r,x=d+r;return i.slice(d,x)});totalPages=_(()=>{let i=this.filteredInstructors().length;return Math.ceil(i/this.itemsPerPage())});pageNumbers=_(()=>{let i=this.totalPages();if(i<=7)return Array.from({length:i},(d,x)=>x+1);let e=this.currentPage(),r=[1];e>3&&r.push("...");for(let d=Math.max(2,e-1);d<=Math.min(i-1,e+1);d++)r.push(d);return e<i-2&&r.push("..."),r.push(i),r});ngOnInit(){this.loadInstructors(),this.loadSettings(),this.filterForm.valueChanges.pipe(A(500),k()).subscribe(()=>{this.currentPage.set(1),this.loadInstructors()})}loadSettings(){this.adminPaymentService.loadCommissionSettings().subscribe({next:()=>{},error:i=>{console.error("\u274C [AdminPayments] Error al cargar settings:",i)}})}loadInstructors(){let i=this.filterForm.value,e={status:i.status==="all"?void 0:i.status||void 0,minAmount:i.minAmount&&i.minAmount>0?i.minAmount:void 0,paymentMethod:i.paymentMethod==="all"?void 0:i.paymentMethod||void 0,startDate:i.startDate||void 0,endDate:i.endDate||void 0};Object.keys(e).forEach(r=>{e[r]===void 0&&delete e[r]}),this.adminPaymentService.loadInstructors(e).subscribe({next:()=>{console.log("\u2705 [AdminPayments] Instructores cargados exitosamente")},error:r=>{console.error("\u274C [AdminPayments] Error al cargar instructores:",r)}})}onFilterChange(){}clearFilters(){this.filterForm.reset({status:"all",minAmount:0,country:"all",paymentMethod:"all",startDate:null,endDate:null}),this.currentPage.set(1),this.loadInstructors()}getPaymentMethodIcon(i){return{wallet:"\u{1F4B0}",paypal:"\u{1F4B3}",mixed_paypal:"\u{1F500}"}[i]||"\u2753"}getPaymentMethodName(i){return{wallet:"Billetera",paypal:"PayPal",mixed_paypal:"Mixto (Wallet + PayPal)"}[i]||i}getPaymentMethodBadgeClass(i){return{wallet:"bg-purple-500/20 text-purple-400 border-purple-500/30",paypal:"bg-blue-500/20 text-blue-400 border-blue-500/30",mixed_paypal:"bg-gradient-to-r from-purple-500/20 to-blue-500/20 text-cyan-400 border-cyan-500/30"}[i]||"bg-gray-500/20 text-gray-400 border-gray-500/30"}changePage(i){i<1||i>this.totalPages()||(this.currentPage.set(i),window.scrollTo({top:0,behavior:"smooth"}))}previousPage(){this.changePage(this.currentPage()-1)}nextPage(){this.changePage(this.currentPage()+1)}changePerPage(i){this.itemsPerPage.set(i),this.currentPage.set(1)}formatCurrency(i){return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(i)}formatDate(i){return i?new Date(i).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric"}):"N/A"}getPaymentMethodTooltip(i){return!i||!i.preferredMethod?"Sin m\xE9todo de pago configurado":i.preferredMethod==="paypal"?`PayPal: ${i.paypalConnected?"Conectado":"No Conectado"}`:"M\xE9todo de pago no especificado"}getMethodBadgeClass(i){return{paypal:"text-blue-600 bg-blue-100",wallet:"text-purple-600 bg-purple-100",none:"text-gray-600 bg-gray-100"}[i]||"text-orange-600 bg-orange-100"}getMethodText(i){return{paypal:"PayPal",wallet:"Billetera",none:"No configurado"}[i]||i.charAt(0).toUpperCase()+i.slice(1)}getCountryFlag(i){return{MX:"\u{1F1F2}\u{1F1FD}",AR:"\u{1F1E6}\u{1F1F7}",CO:"\u{1F1E8}\u{1F1F4}",CL:"\u{1F1E8}\u{1F1F1}",PE:"\u{1F1F5}\u{1F1EA}",BR:"\u{1F1E7}\u{1F1F7}",INTL:"\u{1F30E}"}[i]||"\u{1F30D}"}getCountryName(i){return{MX:"M\xE9xico",AR:"Argentina",CO:"Colombia",CL:"Chile",PE:"Per\xFA",BR:"Brasil",INTL:"Internacional"}[i]||i}viewInstructorDetails(i){i&&this.router.navigate(["/admin-instructor-payments",i])}getInstructorAvatarUrl(i){return!i||!i.avatar?`https://ui-avatars.com/api/?name=${encodeURIComponent(i?.name||"User")}&background=667eea&color=fff`:`http://localhost:3000/api/users/imagen-usuario/${i.avatar}`}hasReachedThreshold(i){let e=this.settings()?.minimum_payment_threshold||0;return i>=e}amountToReachThreshold(i){let r=(this.settings()?.minimum_payment_threshold||0)-i;return r>0?r:0}getMinimumThreshold(){return this.settings()?.minimum_payment_threshold||0}getDaysUntilAvailable(){return this.settings()?.days_until_available??0}isProcessingSales=P(!1);async processExistingSales(){await this.modalService.confirm({title:"\xBFProcesar productos de ventas existentes?",message:`Esto crear\xE1 registros de ganancias para los instructores por cada producto vendido que a\xFAn no tenga ganancias asociadas.

\u26A0\uFE0F IMPORTANTE: NO se crear\xE1n ganancias para productos con reembolso completado.

\xBFDeseas continuar?`,icon:"warning",confirmText:"Aceptar",cancelText:"Cancelar"})&&(this.isProcessingSales.set(!0),this.adminPaymentService.processExistingSales().subscribe({next:e=>{this.isProcessingSales.set(!1);let r=`\u2705 Proceso completado:

\u{1F4E6} Productos procesados: ${e.processed}
\u23E9 Productos omitidos: ${e.skipped}
\u{1F4CA} Total de productos: ${e.total}
\u{1F4B3} Ventas revisadas: ${e.sales_reviewed}

`;if(e.skipped_details&&Array.isArray(e.skipped_details)&&e.skipped_details.length>0){r+=`Detalles de productos omitidos:
`;let d=10;e.skipped_details.slice(0,d).forEach((x,Y)=>{r+=`${Y+1}. Sale ${x.sale} - ${x.title||x.product} - Motivo: ${x.reason}
`}),e.skipped_details.length>d&&(r+=`... y ${e.skipped_details.length-d} m\xE1s
`)}this.modalService.alert({title:"Proceso Completado",message:r,icon:"success",confirmText:"Entendido"}),this.loadInstructors()},error:e=>{this.isProcessingSales.set(!1),this.modalService.alert({title:"Error",message:"\u274C Error al procesar ventas: "+(e.error?.message||e.message),icon:"error",confirmText:"Cerrar"})}}))}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=F({type:o,selectors:[["app-admin-instructor-payments"]],decls:64,vars:8,consts:[[1,"min-h-screen","bg-slate-900","py-8"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"flex","justify-between","items-center"],[1,"text-3xl","font-bold","text-white"],[1,"mt-2","text-slate-400"],["title","Procesar ventas que a\xFAn no tienen ganancias asociadas",1,"px-5","py-2.5","bg-yellow-500","hover:bg-yellow-600","disabled:bg-yellow-500/50","text-slate-900","font-semibold","rounded-lg","transition-colors","flex","items-center","gap-2",3,"click","disabled"],[1,"bg-slate-800/80","backdrop-blur-sm","rounded-xl","border","border-slate-700/50","p-6","mb-6"],[1,"text-base","font-semibold","text-white","mb-4"],[3,"formGroup"],[1,"grid","grid-cols-4","gap-4","mb-4"],[1,"block","text-xs","font-medium","text-slate-400","mb-2"],["formControlName","status",1,"w-full","px-3","py-2","bg-slate-900","border","border-slate-700","text-white","text-sm","rounded-lg","focus:ring-2","focus:ring-lime-400","focus:border-transparent","transition-all",3,"change"],["value","all"],["value","available"],["value","pending"],["formControlName","paymentMethod",1,"w-full","px-3","py-2","bg-slate-900","border","border-slate-700","text-white","text-sm","rounded-lg","focus:ring-2","focus:ring-lime-400","focus:border-transparent","transition-all",3,"change"],["value","wallet"],["value","paypal"],["value","mixed_paypal"],["type","number","formControlName","minAmount","placeholder","Ej: 500",1,"w-full","px-3","py-2","bg-slate-900","border","border-slate-700","text-white","text-sm","rounded-lg","focus:ring-2","focus:ring-lime-400","focus:border-transparent","transition-all",3,"change"],[1,"flex","items-end"],["type","button",1,"w-full","px-3","py-2","bg-slate-700","hover:bg-slate-600","text-slate-300","text-sm","rounded-lg","border","border-slate-600","transition-colors",3,"click"],[1,"grid","grid-cols-3","gap-4"],["type","date","formControlName","startDate",1,"w-full","px-3","py-2","bg-slate-900","border","border-slate-700","text-white","text-sm","rounded-lg","focus:ring-2","focus:ring-lime-400","focus:border-transparent","transition-all",3,"change"],["type","date","formControlName","endDate",1,"w-full","px-3","py-2","bg-slate-900","border","border-slate-700","text-white","text-sm","rounded-lg","focus:ring-2","focus:ring-lime-400","focus:border-transparent","transition-all",3,"change"],[1,"w-full","px-3","py-2","bg-slate-900/50","rounded-lg","border","border-cyan-500/30"],[1,"text-xs","text-slate-400"],[1,"flex","justify-center","items-center","py-12"],[1,"bg-red-500/10","border","border-red-500/20","text-red-300","px-4","py-3","rounded-lg","text-sm"],[1,"bg-slate-800/80","backdrop-blur-sm","rounded-xl","border","border-slate-700/50","overflow-hidden"],[1,"bg-slate-800/80","backdrop-blur-sm","rounded-xl","border","border-slate-700/50","p-12","text-center"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"bg-gradient-to-r","from-indigo-900/40","to-purple-900/40","rounded-xl","p-6","border","border-indigo-500/30","mb-6"],[1,"grid","grid-cols-4","gap-5","mb-8"],[1,"bg-slate-800/80","backdrop-blur-sm","rounded-xl","p-5","border","border-slate-700/50","hover:border-lime-500/50","transition-colors"],[1,"flex","items-center","justify-between","mb-3"],[1,"text-sm","font-medium","text-slate-400"],[1,"text-2xl"],[1,"text-3xl","font-bold","text-lime-400"],[1,"text-xs","text-slate-500","mt-2"],[1,"bg-slate-800/80","backdrop-blur-sm","rounded-xl","p-5","border","border-slate-700/50","hover:border-purple-500/50","transition-colors"],[1,"text-3xl","font-bold","text-purple-400"],[1,"bg-slate-800/80","backdrop-blur-sm","rounded-xl","p-5","border","border-slate-700/50","hover:border-blue-500/50","transition-colors"],[1,"text-3xl","font-bold","text-blue-400"],[1,"bg-slate-800/80","backdrop-blur-sm","rounded-xl","p-5","border","border-slate-700/50","hover:border-cyan-500/50","transition-colors"],[1,"text-3xl","font-bold","text-cyan-400"],[1,"flex","items-start","gap-4"],[1,"p-2.5","bg-indigo-500/20","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-indigo-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex-1"],[1,"text-base","font-semibold","text-white","mb-3"],[1,"grid","grid-cols-3","gap-6","text-sm"],[1,"flex","flex-col"],[1,"text-slate-400","mb-1"],[1,"font-semibold","text-lime-400"],[1,"font-semibold","text-green-400"],[1,"font-semibold","text-cyan-400"],[1,"font-semibold","text-purple-400"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-lime-400"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-slate-900/50"],[1,"border-b","border-slate-700"],[1,"px-6","py-4","text-left","text-xs","font-semibold","text-slate-400","uppercase","tracking-wider"],[1,"px-6","py-4","text-center","text-xs","font-semibold","text-slate-400","uppercase","tracking-wider"],[1,"divide-y","divide-slate-700/50"],[1,"hover:bg-slate-700/30","transition-colors"],[1,"bg-slate-900/50","px-6","py-4","border-t","border-slate-700","flex","items-center","justify-between"],[1,"text-sm","text-slate-400"],[1,"font-medium","text-white"],[1,"flex","items-center","gap-2"],[1,"px-3","py-1.5","bg-slate-700","hover:bg-slate-600","text-slate-300","text-sm","rounded-lg","border","border-slate-600","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-6","py-4"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-full","object-cover","border-2","border-lime-400/20",3,"src","alt"],[1,"font-medium","text-white","text-sm"],[1,"font-bold","text-lime-400"],[1,"text-xs","text-amber-400","mt-1"],[1,"space-y-3"],[1,"space-y-1","text-xs","border-b","border-slate-700/50","pb-2","mb-2"],[1,"space-y-1","text-xs"],[1,"text-sm","text-slate-300"],[3,"class","title"],[1,"inline-flex","items-center","px-2.5","py-1","bg-red-500/20","text-red-400","text-xs","font-medium","rounded-lg","border","border-red-500/30"],[1,"flex","justify-center","gap-2"],["title","Ver detalles",1,"p-2","bg-blue-500/20","hover:bg-blue-500/30","text-blue-400","rounded-lg","border","border-blue-500/30","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"text-xs","font-semibold","text-slate-500","uppercase","tracking-wider","mb-1"],[1,"flex","items-center","justify-between","gap-2"],[1,"flex","items-center","gap-1.5"],[1,"text-purple-400"],[1,"text-slate-400"],[1,"flex","items-center","gap-1"],[1,"text-white","font-medium"],[1,"text-slate-600"],[1,"text-blue-400"],[1,"text-cyan-400"],[1,"text-green-400"],[1,"text-green-400","font-medium"],[1,"text-green-400","font-bold"],[1,"text-slate-300","font-medium"],[3,"title"],[1,"px-2","text-slate-500"],[3,"class"],[3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-16","w-16","text-slate-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"mt-4","text-lg","font-semibold","text-white"],[1,"mt-2","text-sm","text-slate-400"]],template:function(e,r){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h1",4),a(6,"Pagos a Instructores"),n(),t(7,"p",5),a(8," Gestiona pagos con Wallet, PayPal o m\xE9todos mixtos "),n()(),t(9,"button",6),g("click",function(){return r.processExistingSales()}),m(10,ee,5,0)(11,te,4,0),n()()(),m(12,re,42,9),t(13,"div",7)(14,"h3",8),a(15,"Filtros de B\xFAsqueda"),n(),t(16,"form",9)(17,"div",10)(18,"div")(19,"label",11),a(20,"Estado"),n(),t(21,"select",12),g("change",function(){return r.onFilterChange()}),t(22,"option",13),a(23,"Todas las Ganancias"),n(),t(24,"option",14),a(25,"Disponibles"),n(),t(26,"option",15),a(27,"Pendientes"),n()()(),t(28,"div")(29,"label",11),a(30,"M\xE9todo de Pago"),n(),t(31,"select",16),g("change",function(){return r.onFilterChange()}),t(32,"option",13),a(33,"Todos"),n(),t(34,"option",17),a(35,"\u{1F4B0} Wallet"),n(),t(36,"option",18),a(37,"\u{1F4B3} PayPal"),n(),t(38,"option",19),a(39,"\u{1F500} Mixto"),n()()(),t(40,"div")(41,"label",11),a(42,"Monto M\xEDnimo"),n(),t(43,"input",20),g("change",function(){return r.onFilterChange()}),n()(),t(44,"div",21)(45,"button",22),g("click",function(){return r.clearFilters()}),a(46," Limpiar Filtros "),n()()(),t(47,"div",23)(48,"div")(49,"label",11),a(50,"Fecha Inicio"),n(),t(51,"input",24),g("change",function(){return r.onFilterChange()}),n()(),t(52,"div")(53,"label",11),a(54,"Fecha Fin"),n(),t(55,"input",25),g("change",function(){return r.onFilterChange()}),n()(),t(56,"div",21)(57,"div",26)(58,"p",27),a(59,"Filtra por fecha de \xFAltima venta"),n()()()()()(),m(60,oe,2,0,"div",28),m(61,le,2,1,"div",29),m(62,Ce,39,5,"div",30),m(63,Se,7,0,"div",31),n()()),e&2&&(l(9),b("disabled",r.isProcessingSales()),l(),c(r.isProcessingSales()?10:11),l(2),c(r.isLoading()?-1:12),l(4),b("formGroup",r.filterForm),l(44),c(r.isLoading()?60:-1),l(),c(r.error()?61:-1),l(),c(!r.isLoading()&&r.hasInstructors()?62:-1),l(),c(!r.isLoading()&&!r.hasInstructors()?63:-1))},dependencies:[q,G,W,X,B,O,H,L,R,z,U],encapsulation:2})};export{Q as a};
