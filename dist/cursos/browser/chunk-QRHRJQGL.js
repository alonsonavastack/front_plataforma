import{e as $}from"./chunk-VM3MHBTU.js";import{a as ee}from"./chunk-RUVEF2SD.js";import{b as z,c as B,d as H,e as U,f as A,h as S,j as O,k as R,o as X,p as q,q as W,r as Y,s as J,t as K,u as Q,y as Z}from"./chunk-QA5A7GBQ.js";import{a as P}from"./chunk-F4KIANN2.js";import{$ as y,Eb as N,Fb as T,Gb as o,Ha as I,Hb as E,Ib as b,Jb as L,Kb as G,Ma as l,T as D,Xa as V,Y as g,Z as x,_ as h,ec as v,hb as c,ib as m,ja as w,kb as F,lb as k,mb as M,nb as _,ob as t,pb as n,qb as f,sc as j,ub as C,wb as u,yb as d}from"./chunk-6JS7X5LE.js";import"./chunk-I4MTPUBM.js";var ie=(r,i)=>i._id;function ae(r,i){r&1&&(t(0,"span",39),h(),t(1,"svg",42),f(2,"path",43),n(),o(3," Verificado por PayPal "),n())}function re(r,i){if(r&1&&(t(0,"p",41),o(1),n()),r&2){let e=d(4);l(),b("ID: ",e.paymentConfig().paypal_merchant_id)}}function oe(r,i){if(r&1&&(t(0,"div",38),c(1,ae,4,0,"span",39),t(2,"p",40),o(3),n(),c(4,re,2,1,"p",41),n()),r&2){let e=d(3);l(),m(e.paymentConfig().paypal_verified?1:-1),l(2),b(" ",e.paymentConfig().paypal_email," "),l(),m(e.paymentConfig().paypal_merchant_id?4:-1)}}function le(r,i){if(r&1&&(t(0,"div",34)(1,"p",35),o(2,"M\xE9todo Preferido"),n(),t(3,"div",36)(4,"p",37),o(5),n(),c(6,oe,5,3,"div",38),n()()),r&2){let e=d(2);l(5),b(" ",e.paymentConfig().preferred_payment_method==="paypal"?"PayPal":"Wallet (Billetera)"," "),l(),m(e.paymentConfig().preferred_payment_method==="paypal"&&e.paymentConfig().paypal_email?6:-1)}}function se(r,i){if(r&1&&(t(0,"div",5)(1,"div",29)(2,"div",30),f(3,"img",31),t(4,"div")(5,"h1",32),o(6),n(),t(7,"p",33),o(8),n()()(),c(9,le,7,2,"div",34),n()()),r&2){let e,a=d();l(3),_("src",a.getInstructorAvatarUrl(a.instructor()),I)("alt",a.instructor().name),l(3),L("",a.instructor().name," ",a.instructor().surname),l(2),E(a.instructor().email),l(),m((e=a.paymentConfig())!=null&&e.preferred_payment_method?9:-1)}}function de(r,i){if(r&1&&(t(0,"div",6)(1,"div",44)(2,"div",45),h(),t(3,"svg",46),f(4,"path",43),n()(),y(),t(5,"div",47)(6,"p",48),o(7),n()()()()),r&2){let e=d();l(7),E(e.successMessage())}}function ce(r,i){if(r&1&&(t(0,"div",7)(1,"div",44)(2,"div",45),h(),t(3,"svg",49),f(4,"path",50),n()(),y(),t(5,"div",47)(6,"p",51),o(7),n()()()()),r&2){let e=d();l(7),E(e.error())}}function me(r,i){if(r&1){let e=C();t(0,"div",8)(1,"div",29)(2,"div")(3,"p",52),o(4),n(),t(5,"p",53),u("click",function(){g(e);let s=d();return x(s.copyTotal())}),o(6),h(),t(7,"svg",54),f(8,"path",55),n()()(),y(),t(9,"div",56)(10,"button",57),u("click",function(){g(e);let s=d();return x(s.deselectAll())}),o(11," Deseleccionar Todo "),n(),t(12,"button",58),u("click",function(){g(e);let s=d();return x(s.openPaymentModal())}),o(13," Crear Pago "),n()()()()}if(r&2){let e=d();l(4),b(" ",e.selectedCount()," ganancia(s) seleccionada(s) "),l(2),b(" Total: ",e.formatCurrency(e.selectedTotal())," ")}}function ue(r,i){r&1&&(t(0,"div",25),f(1,"div",59),n())}function pe(r,i){r&1&&(t(0,"span",88),o(1," \u{1F4E6} Proyecto "),n())}function ge(r,i){r&1&&(t(0,"span",89),o(1," \u{1F393} Curso "),n())}function xe(r,i){if(r&1){let e=C();t(0,"img",84),u("error",function(s){g(e);let p=d().$implicit,ne=d(2);return x(ne.handleImageError(s,p.product))}),n(),t(1,"div",85)(2,"div",86),o(3),n(),t(4,"div",87),c(5,pe,2,0,"span",88)(6,ge,2,0,"span",89),n()()}if(r&2){let e=d().$implicit,a=d(2);_("src",a.getProductImageUrl(e.product,e.product_type),I)("alt",e.product.title),l(3),E(e.product.title),l(2),m(e.product_type==="project"?5:6)}}function _e(r,i){r&1&&(t(0,"div",73),o(1,"Producto no disponible"),n())}function fe(r,i){if(r&1&&(t(0,"span",90),o(1),n()),r&2){let e=d(2).$implicit,a=d(2);l(),E(a.formatCurrency(e.discount_info.original_price,e.currency))}}function be(r,i){if(r&1&&(t(0,"span",91),o(1),n()),r&2){let e=d(2).$implicit,a=d(2);l(),E(a.formatCurrency(e.discount_info.original_price,e.currency))}}function he(r,i){if(r&1&&c(0,fe,2,1,"span",90)(1,be,2,1,"span",91),r&2){let e=d().$implicit;m(e.discount_info.original_price>e.sale_price?0:1)}}function ve(r,i){r&1&&(t(0,"span",76),o(1,"-"),n())}function Ce(r,i){if(r&1&&(t(0,"span",77),o(1),n()),r&2){let e=d().$implicit;l(),b(" \u{1F381} -",e.discount_info.discount_percentage.toFixed(1),"% ")}}function Ee(r,i){r&1&&(t(0,"span",78),o(1,"Sin descuento"),n())}function ye(r,i){if(r&1){let e=C();t(0,"tr",68)(1,"td",69)(2,"input",70),u("change",function(){let s=g(e).$implicit,p=d(2);return x(p.toggleSelection(s._id))}),n()(),t(3,"td",71)(4,"div",72),c(5,xe,7,4)(6,_e,2,0,"div",73),n()(),t(7,"td",74),o(8),n(),t(9,"td",75),c(10,he,2,1)(11,ve,2,0,"span",76),n(),t(12,"td",69),c(13,Ce,2,1,"span",77)(14,Ee,2,0,"span",78),n(),t(15,"td",79),o(16),n(),t(17,"td",80),o(18),n(),t(19,"td",81)(20,"div",82)(21,"span"),o(22),n(),t(23,"span",78),o(24),n()()(),t(25,"td",83),o(26),n(),t(27,"td",69)(28,"span"),o(29),n()()()}if(r&2){let e=i.$implicit,a=d(2);N("bg-lime-900/20",a.isSelected()(e._id)),l(2),_("checked",a.isSelected()(e._id))("disabled",e.status!=="available"),l(3),m(e.product?5:6),l(3),b(" ",a.formatDate(e.earned_at)," "),l(2),m(e.discount_info&&e.discount_info.original_price?10:11),l(3),m(e.discount_info&&e.discount_info.discount_percentage>0?13:14),l(3),b(" ",a.formatCurrency(e.sale_price,e.currency)," "),l(2),b(" -",a.formatCurrency(a.calculateGatewayFee(e),e.currency)," "),l(4),b("-",a.formatCurrency(a.calculatePlatformCommissionAmount(e),e.currency)),l(2),b("(",(e.platform_commission_rate*100).toFixed(0),"%)"),l(2),b(" ",a.formatCurrency(e.instructor_earning,e.currency)," "),l(2),T("inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold "+a.getStatusBadgeClass(e.status)),l(),b(" ",a.getStatusText(e.status)," ")}}function we(r,i){r&1&&(t(0,"span",97),o(1,"..."),n())}function Se(r,i){if(r&1){let e=C();t(0,"button",99),u("click",function(){g(e);let s=d().$implicit,p=d(3);return x(p.changePage(+s))}),o(1),n()}if(r&2){let e=d().$implicit,a=d(3);T(a.currentPage()===e?"px-3 py-1.5 bg-lime-500 text-slate-900 rounded-lg font-semibold border-2 border-lime-400":"px-3 py-1.5 bg-slate-700 text-white rounded-lg hover:bg-slate-600 border border-white/10 transition-all"),l(),b(" ",e," ")}}function De(r,i){if(r&1&&c(0,we,2,0,"span",97)(1,Se,2,3,"button",98),r&2){let e=i.$implicit;m(e==="..."?0:1)}}function Pe(r,i){if(r&1){let e=C();t(0,"div",67)(1,"div",92)(2,"div",93)(3,"span",73),o(4,"Mostrar:"),n(),t(5,"select",94),u("change",function(s){g(e);let p=d(2);return x(p.changePerPage(+s.target.value))}),t(6,"option",95),o(7,"10"),n(),t(8,"option",95),o(9,"15"),n(),t(10,"option",95),o(11,"20"),n(),t(12,"option",95),o(13,"50"),n()(),t(14,"span",73),o(15," ganancias por p\xE1gina "),n()(),t(16,"div",93)(17,"button",96),u("click",function(){g(e);let s=d(2);return x(s.previousPage())}),o(18," Anterior "),n(),k(19,De,2,1,null,null,F),t(21,"button",96),u("click",function(){g(e);let s=d(2);return x(s.nextPage())}),o(22," Siguiente "),n()(),t(23,"div",73),o(24),n()()()}if(r&2){let e=d(2);l(5),_("value",e.itemsPerPage()),l(),_("value",10),l(2),_("value",15),l(2),_("value",20),l(2),_("value",50),l(5),_("disabled",e.currentPage()===1),l(2),M(e.pageNumbers()),l(2),_("disabled",e.currentPage()===e.totalPages()),l(3),G(" Mostrando ",(e.currentPage()-1)*e.itemsPerPage()+1," - ",e.Math.min(e.currentPage()*e.itemsPerPage(),e.validEarnings().length)," de ",e.validEarnings().length," ")}}function Ie(r,i){if(r&1){let e=C();t(0,"div",26)(1,"div",60)(2,"table",61)(3,"thead",62)(4,"tr")(5,"th",63)(6,"input",64),u("change",function(s){g(e);let p=d();return x(s.target.checked?p.selectAll():p.deselectAll())}),n()(),t(7,"th",63),o(8,"Producto "),n(),t(9,"th",63),o(10,"Fecha"),n(),t(11,"th",63),o(12,"\u{1F4B0} Precio Original"),n(),t(13,"th",63),o(14,"\u{1F381} Descuento "),n(),t(15,"th",63),o(16,"Precio Final "),n(),t(17,"th",63),o(18,"Comisi\xF3n Pasarela "),n(),t(19,"th",63),o(20,"Comisi\xF3n Plat. "),n(),t(21,"th",63),o(22,"Ganancia "),n(),t(23,"th",63),o(24,"Estado"),n()()(),t(25,"tbody",65),k(26,ye,30,16,"tr",66,ie),n()()(),c(28,Pe,25,10,"div",67),n()}if(r&2){let e=d();l(26),M(e.paginatedEarnings()),l(2),m(e.totalPages()>1?28:-1)}}function ke(r,i){if(r&1){let e=C();t(0,"div",100),h(),t(1,"svg",102),f(2,"path",103),n(),y(),t(3,"h3",104),o(4,"Sin Ganancias Disponibles"),n(),t(5,"p",105),o(6," Este instructor no tiene ganancias listas para pago en este momento. "),n(),t(7,"div",106)(8,"p",107),o(9,"Posibles razones:"),n(),t(10,"ul",108)(11,"li"),o(12,'Las ganancias est\xE1n en estado "pendiente" (esperando d\xEDas de disponibilidad)'),n(),t(13,"li"),o(14),n(),t(15,"li"),o(16,"Ya se pagaron todas las ganancias recientes"),n()()(),t(17,"button",109),u("click",function(){g(e);let s=d(2);return x(s.clearFilters())}),h(),t(18,"svg",110),f(19,"path",111),n(),o(20," Ver Todas las Ganancias "),n()()}if(r&2){let e=d(2);l(14),b("No ha alcanzado el umbral m\xEDnimo de pago (",e.formatCurrency(e.getMinimumThreshold()),")")}}function Me(r,i){if(r&1){let e=C();t(0,"div",101),h(),t(1,"svg",112),f(2,"path",113),n(),y(),t(3,"h3",104),o(4,"No se encontraron resultados"),n(),t(5,"p",105),o(6," No hay ganancias que coincidan con los filtros aplicados. "),n(),t(7,"button",114),u("click",function(){g(e);let s=d(2);return x(s.clearFilters())}),h(),t(8,"svg",110),f(9,"path",115),n(),o(10," Limpiar Filtros "),n()()}}function Te(r,i){if(r&1&&(t(0,"div",27),c(1,ke,21,1,"div",100)(2,Me,11,0,"div",101),n()),r&2){let e,a=d();l(),m(((e=a.filterForm.get("status"))==null?null:e.value)==="available"?1:2)}}function Ae(r,i){r&1&&(h(),t(0,"svg",139),f(1,"circle",141)(2,"path",142),n())}function Ve(r,i){r&1&&o(0," Crear Pago ")}function Fe(r,i){if(r&1){let e=C();t(0,"div",28)(1,"div",116)(2,"div",117),u("click",function(){g(e);let s=d();return x(s.closePaymentModal())}),n(),t(3,"div",118)(4,"form",119),u("ngSubmit",function(){g(e);let s=d();return x(s.createPayment())}),t(5,"div",120)(6,"div",121)(7,"div",122),h(),t(8,"svg",123),f(9,"path",124),n()(),y(),t(10,"div",125)(11,"h3",126),o(12," Crear Pago "),n(),t(13,"div",127)(14,"div",128)(15,"div",129)(16,"span",73),o(17,"Ganancias Seleccionadas:"),n(),t(18,"span",130),o(19),n()(),t(20,"div",129)(21,"span",73),o(22,"Ventas Incluidas:"),n(),t(23,"span",130),o(24),n()()(),t(25,"div")(26,"label",15),o(27," Deducciones (opcional) "),n(),f(28,"input",131),n(),t(29,"div",132)(30,"div",133)(31,"span",134),o(32,"Monto Final a Pagar:"),n(),t(33,"span",135),o(34),n()()(),t(35,"div")(36,"label",15),o(37," Notas (opcional) "),n(),f(38,"textarea",136),n()()()()(),t(39,"div",137)(40,"button",138),c(41,Ae,3,0,":svg:svg",139)(42,Ve,1,0),n(),t(43,"button",140),u("click",function(){g(e);let s=d();return x(s.closePaymentModal())}),o(44," Cancelar "),n()()()()()()}if(r&2){let e=d();l(4),_("formGroup",e.paymentForm),l(15),E(e.formatCurrency(e.selectedTotal())),l(5),E(e.selectedCount()),l(4),_("max",e.selectedTotal()),l(6),E(e.formatCurrency(e.finalAmount())),l(6),_("disabled",e.paymentForm.invalid||e.isCreatingPayment()),l(),m(e.isCreatingPayment()?41:42),l(2),_("disabled",e.isCreatingPayment())}}var te=class r{route=D($);location=D(j);adminPaymentService=D(ee);instructorId;instructor=this.adminPaymentService.instructor;paymentConfig=this.adminPaymentService.paymentConfig;earnings=this.adminPaymentService.earnings;totals=this.adminPaymentService.earningsTotals;validEarnings=v(()=>this.earnings().filter(i=>!0));isLoading=this.adminPaymentService.isLoadingEarnings;loadError=this.adminPaymentService.earningsError;actionError=w(null);error=v(()=>this.loadError()||this.actionError());successMessage=w(null);isCreatingPayment=w(!1);selectedEarnings=w([]);filterForm=new A({status:new S("available"),startDate:new S(""),endDate:new S("")});showPaymentModal=w(!1);paymentForm=new A({deductions:new S(0,[B.min(0)]),notes:new S("")});selectedCount=v(()=>this.selectedEarnings().length);selectedIdsSet=v(()=>new Set(this.selectedEarnings()));selectedTotal=v(()=>{let i=this.selectedIdsSet();return this.validEarnings().filter(e=>i.has(e._id)).reduce((e,a)=>e+a.instructor_earning,0)});finalAmount=v(()=>{let i=this.selectedTotal(),e=this.paymentForm.get("deductions")?.value||0;return i-e});isSelected=v(()=>i=>this.selectedIdsSet().has(i));Math=Math;currentPage=w(1);itemsPerPage=w(10);paginatedEarnings=v(()=>{let i=this.validEarnings(),e=this.currentPage(),a=this.itemsPerPage(),s=(e-1)*a,p=s+a;return i.slice(s,p)});totalPages=v(()=>{let i=this.validEarnings().length;return Math.ceil(i/this.itemsPerPage())});pageNumbers=v(()=>{let i=this.totalPages();if(i<=7)return Array.from({length:i},(s,p)=>p+1);let e=this.currentPage(),a=[1];e>3&&a.push("...");for(let s=Math.max(2,e-1);s<=Math.min(i-1,e+1);s++)a.push(s);return e<i-2&&a.push("..."),a.push(i),a});ngOnInit(){this.instructorId=this.route.snapshot.paramMap.get("id"),this.instructorId&&this.loadEarnings()}loadEarnings(){let i=this.filterForm.value,e={};i.status&&i.status!=="all"&&(e.status=i.status),i.startDate&&(e.startDate=i.startDate),i.endDate&&(e.endDate=i.endDate),this.adminPaymentService.loadInstructorEarnings(this.instructorId,e).subscribe({next:()=>{},error:a=>{console.error("\u274C [EarningsDetail] Error al cargar ganancias:",a)}})}onFilterChange(){this.currentPage.set(1),this.loadEarnings()}clearFilters(){this.filterForm.reset({status:"available",startDate:"",endDate:""}),this.onFilterChange()}copyTotal(){let i=this.selectedTotal().toFixed(2);navigator.clipboard.writeText(i).then(()=>{this.successMessage.set(`Monto copiado: ${i}`),setTimeout(()=>this.successMessage.set(null),3e3)}).catch(e=>{console.error("Error al copiar:",e),this.actionError.set("Error al copiar al portapapeles"),setTimeout(()=>this.actionError.set(null),3e3)})}changePage(i){i<1||i>this.totalPages()||(this.currentPage.set(i),window.scrollTo({top:0,behavior:"smooth"}))}previousPage(){this.changePage(this.currentPage()-1)}nextPage(){this.changePage(this.currentPage()+1)}changePerPage(i){this.itemsPerPage.set(i),this.currentPage.set(1)}onEarningSelect(i,e){i.target.checked?this.selectedEarnings.update(s=>[...s,e]):this.selectedEarnings.update(s=>s.filter(p=>p!==e))}toggleSelection(i){this.selectedEarnings().indexOf(i)>-1?this.selectedEarnings.update(s=>s.filter(p=>p!==i)):this.selectedEarnings.update(s=>[...s,i])}selectAll(){let i=this.validEarnings().filter(a=>a.status==="available"),e=i.map(a=>a._id);if(i.length===0){alert(`\u26A0\uFE0F No hay ganancias "disponibles" para seleccionar.

Las ganancias deben estar en estado "available" para ser seleccionadas.`);return}this.selectedEarnings.set(e)}deselectAll(){this.selectedEarnings.set([])}openPaymentModal(){if(this.selectedEarnings().length===0){alert("Por favor, seleccione al menos una ganancia para crear un pago.");return}this.showPaymentModal.set(!0)}closePaymentModal(){this.showPaymentModal.set(!1),this.paymentForm.reset({deductions:0,notes:""}),this.actionError.set(null)}createPayment(){if(this.paymentForm.invalid)return;this.isCreatingPayment.set(!0),this.actionError.set(null);let i={earnings_ids:this.selectedEarnings(),deductions:this.paymentForm.value.deductions||0,notes:this.paymentForm.value.notes||""};this.adminPaymentService.createPayment(this.instructorId,i).subscribe({next:e=>{this.successMessage.set(e.message||"Pago creado exitosamente. Recargando ganancias..."),this.closePaymentModal(),this.deselectAll(),setTimeout(()=>{this.successMessage.set(null),this.loadEarnings()},2e3),this.isCreatingPayment.set(!1)},error:e=>{this.actionError.set(e.error?.message||"Ocurri\xF3 un error inesperado."),this.isCreatingPayment.set(!1)}})}getStatusBadgeClass(i){return{pending:"bg-yellow-100 text-yellow-800",available:"bg-green-100 text-green-800",paid:"bg-blue-100 text-blue-800",disputed:"bg-red-100 text-red-800"}[i]||"bg-gray-100 text-gray-800"}getStatusText(i){return{pending:"Pendiente",available:"Disponible",paid:"Pagado",disputed:"En Disputa"}[i]||i}formatDate(i){return new Date(i).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric"})}goBack(){this.location.back()}formatCurrency(i,e="MXN"){return new Intl.NumberFormat("es-MX",{style:"currency",currency:e}).format(i)}getProductImageUrl(i,e){if(!i)return"https://i.pravatar.cc/40?u=no-product";let a=i.imagen||i.image;return a?e==="project"?`${P.images.project}${a}`:`${P.images.course}${a}`:"https://i.pravatar.cc/40?u="+(i.title||"placeholder")}getInstructorAvatarUrl(i){return!i||!i.avatar?`https://ui-avatars.com/api/?name=${encodeURIComponent(i?.name||"User")}&background=667eea&color=fff`:`${P.images.user}${i.avatar}`}handleImageError(i,e){let a=i.target;a.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(e?.title||"Producto")}&background=10b981&color=fff&size=48`}getMinimumThreshold(){return 50}calculatePlatformCommissionAmount(i){return i.platform_commission_amount||i.sale_price*i.platform_commission_rate}calculateGatewayFee(i){let e=this.calculatePlatformCommissionAmount(i),a=i.sale_price-(i.instructor_earning+e);return a=Math.round(a*100)/100,a>0?a:0}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=V({type:r,selectors:[["app-admin-instructor-earnings-detail"]],decls:45,vars:9,consts:[[1,"min-h-screen","bg-slate-900","py-8"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"mb-6","inline-flex","items-center","px-4","py-2.5","border","border-white/10","rounded-lg","text-sm","font-medium","text-slate-300","bg-slate-800/50","hover:bg-slate-800","transition-all",3,"click"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","mr-2"],["fill-rule","evenodd","d","M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z","clip-rule","evenodd"],[1,"bg-slate-800/50","rounded-lg","border","border-white/10","p-8","mb-8"],[1,"mb-6","bg-lime-500/10","border-l-4","border-lime-400","p-4","rounded-r-lg"],[1,"mb-6","bg-red-500/10","border-l-4","border-red-500","p-4","rounded-r-lg"],[1,"bg-lime-500/10","border","border-lime-500/30","p-6","mb-6","rounded-lg"],[1,"bg-slate-800/50","rounded-lg","border","border-white/10","p-6","mb-6"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-xl","font-bold","text-white"],[1,"flex","space-x-2"],[1,"px-4","py-2","text-sm","bg-lime-500/10","text-lime-400","rounded-lg","hover:bg-lime-500/20","border","border-lime-500/30","transition-all",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4",3,"formGroup"],[1,"block","text-sm","font-medium","text-slate-300","mb-2"],["formControlName","status",1,"w-full","px-4","py-2.5","border","border-white/10","bg-slate-800","text-white","rounded-lg","focus:ring-2","focus:ring-lime-400","focus:border-lime-400",3,"change"],["value","all","selected",""],["value","pending"],["value","available"],["value","paid"],["type","date","formControlName","startDate",1,"w-full","px-4","py-2.5","border","border-white/10","bg-slate-800","text-white","rounded-lg","focus:ring-2","focus:ring-lime-400","focus:border-lime-400",3,"change"],["type","date","formControlName","endDate",1,"w-full","px-4","py-2.5","border","border-white/10","bg-slate-800","text-white","rounded-lg","focus:ring-2","focus:ring-lime-400","focus:border-lime-400",3,"change"],[1,"flex","items-end"],["type","button",1,"w-full","px-4","py-2.5","bg-slate-700","text-slate-200","rounded-lg","hover:bg-slate-600","border","border-white/10","transition-all",3,"click"],[1,"flex","justify-center","items-center","py-12"],[1,"bg-slate-800/50","rounded-lg","border","border-white/10","overflow-hidden"],[1,"bg-slate-800/30","rounded-lg","border","border-white/10","p-12"],[1,"fixed","inset-0","z-50","overflow-y-auto"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-6"],[1,"w-20","h-20","rounded-full","object-cover","border-2","border-lime-400/30",3,"src","alt"],[1,"text-3xl","font-bold","text-white"],[1,"text-sm","text-slate-400","mt-1"],[1,"text-right"],[1,"text-xs","text-slate-400","uppercase","tracking-wider","mb-1"],[1,"flex","flex-col","items-end"],[1,"text-lg","font-semibold","text-lime-400"],[1,"mt-2","text-right"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","text-xs","font-medium","bg-blue-500/10","text-blue-400","mb-1","border","border-blue-500/20"],["title","Clic para seleccionar",1,"text-sm","text-slate-300","font-mono","bg-slate-900/50","px-2","py-1","rounded","select-all","cursor-pointer","hover:text-white"],[1,"text-xs","text-slate-500","mt-0.5","font-mono"],["fill","currentColor","viewBox","0 0 20 20",1,"mr-1","h-3","w-3"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"flex"],[1,"flex-shrink-0"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-lime-300"],[1,"ml-3"],[1,"text-sm","text-lime-200"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"text-sm","text-red-300"],[1,"text-sm","text-lime-300","font-medium"],["title","Clic para copiar monto",1,"text-3xl","font-bold","text-white","mt-1","flex","items-center","gap-2","cursor-pointer","hover:text-lime-400","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-lime-500/50"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 011.414.586l4.414 4.414a1 1 0 01.586 1.414V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"],[1,"flex","space-x-3"],[1,"px-4","py-2.5","bg-slate-700","text-slate-200","rounded-lg","hover:bg-slate-600","border","border-white/10","transition-all",3,"click"],[1,"px-6","py-2.5","bg-lime-500","text-slate-900","rounded-lg","hover:bg-lime-400","font-semibold","transition-all",3,"click"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-lime-400"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-white/10"],[1,"bg-slate-800"],[1,"px-6","py-4","text-left","text-xs","font-semibold","text-slate-300","uppercase","tracking-wider"],["type","checkbox",1,"rounded","bg-slate-700","border-slate-500","text-lime-500","focus:ring-lime-500",3,"change"],[1,"bg-slate-800/30","divide-y","divide-white/5"],[1,"hover:bg-slate-700/30","transition-colors",3,"bg-lime-900/20"],[1,"px-6","py-4","border-t","border-white/10","bg-slate-800/50"],[1,"hover:bg-slate-700/30","transition-colors"],[1,"px-6","py-4","whitespace-nowrap"],["type","checkbox",1,"rounded","bg-slate-700","border-slate-500","text-lime-500","focus:ring-lime-500",3,"change","checked","disabled"],[1,"px-6","py-4"],[1,"flex","items-center"],[1,"text-sm","text-slate-400"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-slate-300"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-slate-400"],[1,"text-slate-500"],[1,"inline-flex","items-center","px-2.5","py-1","rounded-full","text-xs","font-bold","bg-lime-500/20","text-lime-400","border","border-lime-500/30"],[1,"text-xs","text-slate-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-semibold","text-white"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-amber-400"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-red-400"],[1,"flex","flex-col"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-bold","text-lime-400"],[1,"h-12","w-12","rounded-lg","object-cover","border-2","border-white/10",3,"error","src","alt"],[1,"ml-4"],[1,"text-sm","font-medium","text-white"],[1,"text-xs","text-slate-400","mt-1"],[1,"inline-flex","items-center","px-2","py-0.5","rounded-full","text-xs","font-medium","bg-purple-500/20","text-purple-300"],[1,"inline-flex","items-center","px-2","py-0.5","rounded-full","text-xs","font-medium","bg-lime-500/20","text-lime-300"],[1,"line-through","text-slate-500"],[1,"text-slate-300"],[1,"flex","flex-col","sm:flex-row","items-center","justify-between","gap-4"],[1,"flex","items-center","gap-2"],[1,"px-3","py-1.5","bg-slate-700","border","border-white/10","text-white","rounded-lg","text-sm","focus:ring-2","focus:ring-lime-400",3,"change","value"],[3,"value"],[1,"px-3","py-1.5","bg-slate-700","text-white","rounded-lg","hover:bg-slate-600","disabled:opacity-50","disabled:cursor-not-allowed","border","border-white/10","transition-all",3,"click","disabled"],[1,"px-2","text-slate-500"],[3,"class"],[3,"click"],[1,"max-w-md","mx-auto","text-center"],[1,"text-center","max-w-md","mx-auto"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-20","h-20","mx-auto","mb-4","text-slate-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-xl","font-bold","text-white","mb-2"],[1,"text-slate-400","mb-4"],[1,"text-left","bg-slate-900/50","p-4","rounded-lg","border","border-white/10","space-y-2","text-sm"],[1,"text-slate-300","font-medium"],[1,"list-disc","list-inside","text-slate-400","space-y-1"],[1,"mt-6","px-6","py-2.5","bg-lime-500/10","text-lime-400","rounded-lg","hover:bg-lime-500/20","border","border-lime-500/30","transition-all","inline-flex","items-center","gap-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","mx-auto","mb-4","text-slate-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"px-6","py-2.5","bg-lime-500/10","text-lime-400","rounded-lg","hover:bg-lime-500/20","border","border-lime-500/30","transition-all","inline-flex","items-center","gap-2",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"flex","items-center","justify-center","min-h-screen","px-4","pt-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","transition-opacity","bg-black/60","backdrop-blur-sm",3,"click"],[1,"relative","z-10","inline-block","align-bottom","bg-slate-800","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-lg","sm:w-full","border","border-white/10"],[3,"ngSubmit","formGroup"],[1,"bg-slate-800","px-4","pt-5","pb-4","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"mx-auto","flex-shrink-0","flex","items-center","justify-center","h-12","w-12","rounded-full","bg-lime-500/10","sm:mx-0","sm:h-10","sm:w-10"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-6","w-6","text-lime-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"mt-3","text-center","sm:mt-0","sm:ml-4","sm:text-left","flex-1"],[1,"text-lg","leading-6","font-bold","text-white","mb-4"],[1,"space-y-4"],[1,"bg-slate-700/50","rounded-lg","p-4","border","border-white/10"],[1,"flex","justify-between","mb-2"],[1,"text-sm","font-semibold","text-white"],["type","number","formControlName","deductions","min","0","placeholder","0.00",1,"w-full","px-4","py-2.5","border","border-white/10","bg-slate-700","text-white","rounded-lg","focus:ring-2","focus:ring-lime-400",3,"max"],[1,"bg-lime-500/10","rounded-lg","p-4","border","border-lime-500/30"],[1,"flex","justify-between"],[1,"text-sm","font-medium","text-lime-300"],[1,"text-xl","font-bold","text-lime-400"],["formControlName","notes","rows","3","placeholder","Agrega notas sobre este pago...",1,"w-full","px-4","py-2.5","border","border-white/10","bg-slate-700","text-white","rounded-lg","focus:ring-2","focus:ring-lime-400"],[1,"bg-slate-800/80","px-4","py-3","sm:px-6","sm:flex","sm:flex-row-reverse","border-t","border-white/10"],["type","submit",1,"w-full","inline-flex","justify-center","rounded-lg","border","border-transparent","shadow-sm","px-4","py-2","bg-lime-500","text-base","font-semibold","text-slate-900","hover:bg-lime-400","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-lime-500","sm:ml-3","sm:w-auto","sm:text-sm","disabled:opacity-50","transition-all",3,"disabled"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-slate-800"],["type","button",1,"mt-3","w-full","inline-flex","justify-center","rounded-lg","border","border-white/10","shadow-sm","px-4","py-2","bg-slate-700","text-base","font-medium","text-slate-200","hover:bg-slate-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-slate-500","sm:mt-0","sm:ml-3","sm:w-auto","sm:text-sm","transition-all",3,"click","disabled"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,a){e&1&&(t(0,"div",0)(1,"div",1)(2,"button",2),u("click",function(){return a.goBack()}),h(),t(3,"svg",3),f(4,"path",4),n(),o(5," Volver a Lista de Instructores "),n(),c(6,se,10,6,"div",5),c(7,de,8,1,"div",6),c(8,ce,8,1,"div",7),c(9,me,14,2,"div",8),y(),t(10,"div",9)(11,"div",10)(12,"h2",11),o(13,"Ganancias del Instructor"),n(),t(14,"div",12)(15,"button",13),u("click",function(){return a.selectAll()}),o(16," Seleccionar Disponibles "),n()()(),t(17,"form",14)(18,"div")(19,"label",15),o(20,"Estado"),n(),t(21,"select",16),u("change",function(){return a.onFilterChange()}),t(22,"option",17),o(23,"Todos"),n(),t(24,"option",18),o(25,"Pendiente"),n(),t(26,"option",19),o(27,"Disponible"),n(),t(28,"option",20),o(29,"Pagado"),n()()(),t(30,"div")(31,"label",15),o(32,"Desde"),n(),t(33,"input",21),u("change",function(){return a.onFilterChange()}),n()(),t(34,"div")(35,"label",15),o(36,"Hasta"),n(),t(37,"input",22),u("change",function(){return a.onFilterChange()}),n()(),t(38,"div",23)(39,"button",24),u("click",function(){return a.clearFilters()}),o(40," Limpiar Filtros "),n()()()(),c(41,ue,2,0,"div",25),c(42,Ie,29,1,"div",26),c(43,Te,3,1,"div",27),n()(),c(44,Fe,45,8,"div",28)),e&2&&(l(6),m(a.instructor()?6:-1),l(),m(a.successMessage()?7:-1),l(),m(a.error()?8:-1),l(),m(a.selectedCount()>0?9:-1),l(8),_("formGroup",a.filterForm),l(24),m(a.isLoading()?41:-1),l(),m(!a.isLoading()&&a.validEarnings().length>0?42:-1),l(),m(!a.isLoading()&&a.validEarnings().length===0?43:-1),l(),m(a.showPaymentModal()?44:-1))},dependencies:[Z,O,Y,J,z,R,W,H,U,Q,K,q,X],encapsulation:2})};export{te as AdminInstructorEarningsDetailComponent};
