<div class="min-h-screen bg-slate-900 p-4 md:p-6">
  <div class="max-w-5xl mx-auto">
    <!-- Header -->
    <div class="mb-6 md:mb-8">
      <h1 class="text-2xl md:text-3xl font-bold text-white mb-2 flex items-center gap-3">
        <span>âš™ï¸</span>
        <span>ConfiguraciÃ³n del Sistema</span>
      </h1>
      <p class="text-slate-400 text-sm md:text-base">
        Administra la informaciÃ³n bÃ¡sica, contacto y redes sociales de tu plataforma
      </p>
    </div>

    <!-- Mensaje de Ã©xito -->
    @if (showSuccess()) {
    <div class="mb-6 p-4 bg-green-500/20 border border-green-500/50 rounded-lg flex items-center gap-3 animate-pulse">
      <span class="text-2xl">âœ…</span>
      <div>
        <p class="text-green-400 font-medium">ConfiguraciÃ³n guardada exitosamente</p>
        <p class="text-green-300/70 text-sm">Los cambios se han aplicado correctamente</p>
      </div>
    </div>
    }

    <!-- Tabs de NavegaciÃ³n -->
    <div class="mb-6 bg-slate-800 rounded-lg p-1 border border-white/10">
      <div class="flex flex-col md:flex-row gap-2 md:gap-1">
        <button (click)="setActiveTab('basic')" [class.bg-lime-500]="activeTab() === 'basic'"
          [class.text-slate-900]="activeTab() === 'basic'" [class.text-slate-300]="activeTab() !== 'basic'"
          [class.hover:bg-slate-700]="activeTab() !== 'basic'"
          class="flex-1 px-4 py-3 rounded-lg font-medium transition-all text-left md:text-center block w-full">
          ğŸ¢ InformaciÃ³n BÃ¡sica
        </button>

        <button (click)="setActiveTab('contact')" [class.bg-lime-500]="activeTab() === 'contact'"
          [class.text-slate-900]="activeTab() === 'contact'" [class.text-slate-300]="activeTab() !== 'contact'"
          [class.hover:bg-slate-700]="activeTab() !== 'contact'"
          class="flex-1 px-4 py-3 rounded-lg font-medium transition-all text-left md:text-center block w-full">
          ğŸ“ Contacto
        </button>

        <button (click)="setActiveTab('social')" [class.bg-lime-500]="activeTab() === 'social'"
          [class.text-slate-900]="activeTab() === 'social'" [class.text-slate-300]="activeTab() !== 'social'"
          [class.hover:bg-slate-700]="activeTab() !== 'social'"
          class="flex-1 px-4 py-3 rounded-lg font-medium transition-all text-left md:text-center block w-full">
          ğŸŒ Redes Sociales
        </button>

        <button (click)="setActiveTab('payment')" [class.bg-lime-500]="activeTab() === 'payment'"
          [class.text-slate-900]="activeTab() === 'payment'" [class.text-slate-300]="activeTab() !== 'payment'"
          [class.hover:bg-slate-700]="activeTab() !== 'payment'"
          class="flex-1 px-4 py-3 rounded-lg font-medium transition-all text-left md:text-center block w-full">
          ğŸ’³ MÃ©todos de Pago
        </button>

        <button (click)="setActiveTab('backup')" [class.bg-lime-500]="activeTab() === 'backup'"
          [class.text-slate-900]="activeTab() === 'backup'" [class.text-slate-300]="activeTab() !== 'backup'"
          [class.hover:bg-slate-700]="activeTab() !== 'backup'"
          class="flex-1 px-4 py-3 rounded-lg font-medium transition-all text-left md:text-center block w-full">
          ğŸ’¾ Backups
        </button>

        <button (click)="setActiveTab('developer')" [class.bg-lime-500]="activeTab() === 'developer'"
          [class.text-slate-900]="activeTab() === 'developer'" [class.text-slate-300]="activeTab() !== 'developer'"
          [class.hover:bg-slate-700]="activeTab() !== 'developer'"
          class="flex-1 px-4 py-3 rounded-lg font-medium transition-all text-left md:text-center block w-full">
          ğŸ‘¨â€ğŸ’» Developer
        </button>
      </div>
    </div>

    <!-- Loading State -->
    @if (isLoading()) {
    <div class="bg-slate-800 rounded-lg p-12 border border-white/10">
      <div class="flex flex-col items-center justify-center gap-4">
        <div class="animate-spin rounded-full h-12 w-12 border-4 border-slate-700 border-t-lime-400"></div>
        <p class="text-slate-400">Cargando configuraciÃ³n...</p>
      </div>
    </div>
    } @else {
    <!-- Tab: MÃ©todos de Pago (Fuera del form principal) -->
    @if (activeTab() === 'payment') {
    <app-admin-payment-settings />
    }
    <!-- Tab: Backups (Fuera del form principal) -->
    @else if (activeTab() === 'backup') {
    <app-backup-config />
    }
    <!-- Tab: Developer (Fuera del form principal) -->
    @else if (activeTab() === 'developer') {
    <app-developer-config />
    }
    @else {
    <!-- Formulario para otras configuraciones -->
    <form [formGroup]="configForm" (ngSubmit)="onSubmit()">
      <!-- Tab: InformaciÃ³n BÃ¡sica -->
      @if (activeTab() === 'basic') {
      <app-basic-info [form]="configForm" [systemConfigService]="systemConfigService" />
      }

      <!-- Tab: Contacto -->
      @if (activeTab() === 'contact') {
      <app-contact-info [form]="configForm" />
      }

      <!-- Tab: Redes Sociales -->
      @if (activeTab() === 'social') {
      <app-social-media [form]="configForm" />
      }

      <!-- Botones de AcciÃ³n -->
      <div class="mt-8 flex flex-col sm:flex-row justify-end gap-3 sm:gap-4">
        <button type="button" (click)="loadConfig()" [disabled]="isSaving()"
          class="w-full sm:w-auto px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-center">
          ğŸ”„ Recargar
        </button>

        <button type="submit" [disabled]="!isFormValid() || isSaving()"
          class="w-full sm:w-auto px-8 py-3 bg-lime-500 hover:bg-lime-600 text-slate-900 font-bold rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2">
          @if (isSaving()) {
          <div class="animate-spin rounded-full h-5 w-5 border-2 border-slate-900 border-t-transparent"></div>
          <span>Guardando...</span>
          } @else {
          <span>ğŸ’¾</span>
          <span>Guardar Cambios</span>
          }
        </button>
      </div>
    </form>
    }
    }

    <!-- Info Card -->
    <div class="mt-8 bg-blue-500/10 border border-blue-500/30 rounded-lg p-4">
      <div class="flex gap-3">
        <span class="text-2xl">ğŸ’¡</span>
        <div class="flex-1">
          <p class="text-blue-300 font-medium mb-1">Consejos de configuraciÃ³n</p>
          <ul class="text-sm text-blue-200/80 space-y-1">
            <li>â€¢ El <strong>nombre del sitio</strong> aparecerÃ¡ en el tÃ­tulo de todas las pÃ¡ginas</li>
            <li>â€¢ El <strong>logo</strong> se mostrarÃ¡ en el header y emails</li>
            <li>â€¢ El <strong>email principal</strong> recibirÃ¡ notificaciones importantes del sistema</li>
            <li>â€¢ Las <strong>redes sociales</strong> aparecerÃ¡n en el footer de tu sitio</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>